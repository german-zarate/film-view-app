{% extends "layout.html" %}
{% block title %}Add new film{% endblock %}
{% block content %}

<h3>Add new film</h3>

<p>Please enter details about the film.</p>
<p>Tip: <a href="https://www.imdb.com/">IMDb</a> is a great source for this information!</p>

<form action="/new_film" method="post">
    <p>Name: <br>
    <input type="text" name="name" placeholder="Name" maxlength="50"></p>
    <p>Description: <br>
    <textarea name="description" placeholder="Description" maxlength="500" rows="4" cols="45" class="menu"></textarea></p>
    <p>Year: <br>
    <input type="number" name="year" min="1888" max="2021" placeholder="Year" size="7"></p>
    <p>Country: <br>
        <select name="country_id" class="menu">
            {% for country in countries %}
            {% if country[0] == 3 %}<optgroup label="Africa">{% endif %}
            {% if country[0] == 1 %}<optgroup label="Asia">{% endif %}
            {% if country[0] == 2 %}<optgroup label="Europe">{% endif %}
            {% if country[0] == 6 %}<optgroup label="North America">{% endif %}
            {% if country[0] == 7 %}<optgroup label="South America">{% endif %}
            {% if country[0] == 9 %}<optgroup label="Oceania">{% endif %}
            {% if country[1] == "United States"%}
            <option value="{{ country[0] }}" selected>{{ country[1] }}</option>
            {% else %}
            <option value="{{ country[0] }}">{{ country[1] }}</option>
            {% endif %}
            {% if country[0] == 192 or country[0] == 190 or country[0] == 182 or 
                  country[0] == 183 or country[0] == 188 or country[0] == 187 %}
            </optgroup>
            {% endif %}
            {% endfor %}
        </select>
    <p>Language: <br>
        <select name="language_id" class="menu">
            <option value="0" selected>New language</option>
            {% for language in languages %}
            <option value="{{ language[0] }}">{{ language[1] }}</option>
            {% endfor %}
        </select>
    <input type="text" name="new_language" placeholder="New language"></p>
    <script>
        var language = document.getElementsByTagName("select")[1];
        language.onchange=function() {
            if (language.value === "0") {
                document.getElementsByTagName("input")[2].style.display="inline";
            } else {
                document.getElementsByTagName("input")[2].style.display="none";
            }
        }
    </script>
    <p>Genre: <br>
        <select name="genre_id" class="menu">
            <option value="0" selected>New genre</option>
            {% for genre in genres %}
            <option value="{{ genre[0] }}">{{ genre[1] }}</option>
            {% endfor %}
        </select>
    <input type="text" name="new_genre" placeholder="New genre"></p>
    <script>
        var genre = document.getElementsByTagName("select")[2];
        genre.onchange=function() {
            if (genre.value === "0") {
                document.getElementsByTagName("input")[3].style.display="inline";
            } else {
                document.getElementsByTagName("input")[3].style.display="none";
            }
        }
    </script>
    <p>Director: <br>
    <input type="text" name="director" placeholder="Director"></p>
    <p>Screenwriter: <br>
    <input type="text" name="screenwriter" placeholder="Screenwriter"></p>
    <input type="submit" value="Submit">
</form>

{% endblock %}